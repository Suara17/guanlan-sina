# 侧边栏组件

本目录包含应用侧边栏相关的 React 组件。

## 组件说明

### AppSidebar.tsx
应用侧边栏主组件。

**功能：**
- 管理侧边栏的展开/收起状态
- 集成主菜单和用户菜单
- 响应式设计（移动端自动收起）
- 支持主题切换

**使用示例：**
```typescript
<AppSidebar />
```

### Main.tsx
主菜单组件。

**功能：**
- 显示主要导航菜单
- 根据用户权限显示不同菜单项
- 支持菜单分组
- 显示徽章（如待处理数量）

**菜单项：**
- 仪表板
- 物品管理
- 告警
- 设置
- 管理员（仅管理员可见）

**使用示例：**
```typescript
<Main />
```

### User.tsx
用户菜单组件。

**功能：**
- 显示用户头像和名称
- 提供用户操作菜单
- 支持主题切换
- 支持登出

**菜单项：**
- 个人资料
- 设置
- 主题切换
- 登出

**使用示例：**
```typescript
<User />
```

## 设计原则

1. **响应式**：在不同屏幕尺寸下都能良好显示
2. **可访问性**：支持键盘导航和屏幕阅读器
3. **一致性**：保持统一的视觉风格和交互模式
4. **性能优化**：使用虚拟滚动处理大量菜单项
5. **用户体验**：提供清晰的导航和反馈

## 响应式行为

### 桌面端（>= 1024px）
- 侧边栏默认展开
- 可手动收起/展开
- 收起时显示图标

### 平板端（768px - 1023px）
- 侧边栏默认收起
- 点击按钮展开/收起
- 展开时覆盖内容

### 移动端（< 768px）
- 侧边栏默认隐藏
- 点击按钮从侧边滑出
- 点击遮罩层关闭

## 权限控制

菜单项根据用户角色动态显示：

```typescript
const menuItems = [
  { path: '/dashboard', label: '仪表板', icon: LayoutDashboard },
  { path: '/items', label: '物品管理', icon: Package },
  { path: '/alerts', label: '告警', icon: AlertCircle },
  { path: '/settings', label: '设置', icon: Settings },
  // 仅管理员可见
  isAdmin && { path: '/admin', label: '管理员', icon: Shield },
].filter(Boolean)
```

## 主题支持

侧边栏支持明暗主题切换：

```typescript
<ThemeToggle />
```

主题状态保存在本地存储中，用户偏好会被记住。

## 注意事项

1. **菜单高亮**：根据当前路由高亮对应菜单项
2. **徽章更新**：实时更新待处理数量等徽章
3. **性能优化**：避免不必要的重渲染
4. **国际化**：支持多语言菜单文本
5. **自定义**：支持自定义菜单项和布局
